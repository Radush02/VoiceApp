<div class="chat-container">
  <h2>Chat in {{ channel }}</h2>
      <div *ngIf="typingUsers.size > 0" class="typing-indicator">
  <ng-container *ngIf="typingUsers.size === 1">
    {{ typingUsers.values().next().value }} is typing...
  </ng-container>
<ng-container *ngIf="typingUsers.size > 1">
  {{ getTypingUsers() }} are typing...
</ng-container>
</div>
  <div class="messages-container">
    <div *ngFor="let message of messages" 
         [ngClass]="{'message-right': message.sender === username, 'message-left': message.sender !== username}"
         class="message-item">
      <div class="message-content">
        <div class="sender-name">{{ message.sender }}</div>
        <div class="message-text" *ngIf="message.content">{{ message.content }}</div>
        <div class="message-image" *ngIf="message.attachment">
          <img [src]="message.attachment" alt="Shared image" />
        </div>
      </div>
    </div>
  </div>
  <div class="videos">
    <video #local muted autoplay playsinline style="width:200px; height:200px"></video>
    <video #remote autoplay playsinline style="width:200px; height:200px"></video>
  </div>

<button (click)="call()">Call</button>
  <div class="input-container">
<input
  [(ngModel)]="messageContent"
  placeholder="Type a message..."
  (keyup.enter)="sendMessage()"
  (input)="onTyping()"
/>
    
    <div class="upload-container">
      <label for="imageUpload" class="upload-button">
        <span class="upload-icon">ðŸ“Ž</span>
      </label>
      <input type="file" id="imageUpload" accept="image/*" (change)="onImageSelected($event)" />
      <div *ngIf="selectedImage" class="selected-image-name">
        {{ getImageName() }}
        <button class="remove-image" (click)="removeSelectedImage()">âœ•</button>
      </div>
    </div>
    
    <button (click)="sendMessage()" [disabled]="!messageContent && !selectedImage">Send</button>



  </div>
</div>